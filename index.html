<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Получи награду!</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #1a1a2e;
            color: #e0e0ff;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden; /* Предотвращаем появление скролла */
        }

        .ad-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* Занимает всю высоту экрана */
            padding: 20px; /* Отступы от краёв */
            box-sizing: border-box; /* Учитываем padding в расчёте высоты */
        }

        .rewarded-ad {
            width: 100%;
            max-width: 600px; /* Ограничиваем ширину на больших экранах */
            height: 400px; /* Высота контейнера под рекламу */
            background-color: #2c3e50; /* Фон на случай, если реклама не загрузится */
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px; /* Отступ снизу */
            overflow: hidden; /* Обрезаем, если реклама выходит за рамки */
        }

        .rewarded-ad iframe,
        .rewarded-ad img,
        .rewarded-ad div { /* На случай, если реклама вставляется как div */
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 10px;
        }

        .nav-button {
            background-color: #2b59d7;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            width: auto; /* Автоматическая ширина */
            max-width: 200px; /* Максимальная ширина кнопки */
        }

        .nav-button:hover {
            background-color: #1e41a8;
        }

        .hidden {
            display: none;
        }

        .status-text {
            margin-top: 15px;
            font-size: 0.9rem;
            color: #a0a0d0;
            text-align: center;
        }
    </style>
    <!-- Yandex.RTB -->
<script>window.yaContextCb=window.yaContextCb||[]</script>
<script src="https://yandex.ru/ads/system/context.js" async></script>
</head>
<body>

    <!-- Блок с первой рекламой -->
    <div id="adBlock1" class="ad-container">
        <h1 class="text-2xl font-bold mb-6 text-center">Посмотри рекламу !</h1>
        <div class="rewarded-ad">
            <!-- Примерный placeholder для рекламы от Яндекса. В реальности сюда будет вставлен код от Яндекс.Рекламы -->
            <div class="text-center text-gray-400">
<!-- Yandex.RTB R-A-18439999-1 -->
<script>
window.yaContextCb.push(() => {
    Ya.Context.AdvManager.render({
        "blockId": "R-A-18439999-1",
        "type": "fullscreen",
        "platform": "touch"
    })
})
</script>
            </div>
        </div>
        <button id="nextButton" class="nav-button" disabled>Далее</button>
        <p id="status1" class="status-text">Просмотрите рекламу до конца, чтобы разблокировать кнопку.</p>
    </div>

    <!-- Блок со второй рекламой (скрыт по умолчанию) -->
    <div id="adBlock2" class="ad-container hidden">
        <h1 class="text-2xl font-bold mb-6 text-center">Ещё одна награда за просмотр!</h1>
        <div class="rewarded-ad">
            <!-- Примерный placeholder для второй рекламы -->
            <div class="text-center text-gray-400">
                 <!-- Замените этот div на фактический код второй рекламы -->
                 <p>Блок рекламы 2 (Вторая реклама от Яндекс.Рекламной сети)</p>
                 <p class="text-xs mt-2">[Код второй рекламы вставляется сюда]</p>
            </div>
        </div>
        <button id="continueButton" class="nav-button" disabled>Продолжить</button>
        <p id="status2" class="status-text">Просмотрите рекламу до конца, чтобы разблокировать кнопку.</p>
    </div>

    <!-- Блок с результатом (скрыт по умолчанию) -->
    <div id="resultBlock" class="ad-container hidden">
        <h1 class="text-2xl font-bold mb-6 text-center">Поздравляем!</h1>
        <p class="text-lg mb-6 text-center">Вы успешно просмотрели все рекламы и получили свою награду!</p>
        <!-- Здесь можно разместить информацию о награде или кнопку для её получения -->
        <button id="claimRewardButton" class="nav-button">Забрать награду</button>
        <p class="status-text mt-4">Спасибо за участие!</p>
    </div>

    <script>
        // Состояния просмотра реклам
        let ad1Watched = false;
        let ad2Watched = false;

        // Функция для симуляции завершения просмотра рекламы
        // В реальной интеграции с SDK рекламы, вы будете вызывать эту функцию по событию onComplete
        function simulateAdCompletion(adNumber) {
            if (adNumber === 1) {
                ad1Watched = true;
                document.getElementById('nextButton').disabled = false;
                document.getElementById('status1').textContent = "Реклама 1 просмотрена! Нажмите 'Далее'.";
            } else if (adNumber === 2) {
                ad2Watched = true;
                document.getElementById('continueButton').disabled = false;
                document.getElementById('status2').textContent = "Реклама 2 просмотрена! Нажмите 'Продолжить'.";
            }
        }

        // Обработчики нажатий на кнопки
        document.getElementById('nextButton').addEventListener('click', function() {
            if (ad1Watched) {
                document.getElementById('adBlock1').classList.add('hidden');
                document.getElementById('adBlock2').classList.remove('hidden');
            }
        });

        document.getElementById('continueButton').addEventListener('click', function() {
            if (ad2Watched) {
                document.getElementById('adBlock2').classList.add('hidden');
                document.getElementById('resultBlock').classList.remove('hidden');
            }
        });

        // Пример: автоматически "просматриваем" рекламу через 5 секунд для демонстрации
        // УДАЛИТЕ ЭТО в продакшене!
        setTimeout(() => {
            console.log("Симуляция завершения рекламы 1");
            simulateAdCompletion(1);
        }, 5000);

        setTimeout(() => {
            console.log("Симуляция завершения рекламы 2");
            simulateAdCompletion(2);
        }, 10000);

        // Обработчик для кнопки "Забрать награду" (пример)
        document.getElementById('claimRewardButton').addEventListener('click', function() {
            alert("Поздравляем! Ваша награда начислена!");
             // Здесь можно добавить логику начисления награды
        });

    </script>
</body>
</html>
